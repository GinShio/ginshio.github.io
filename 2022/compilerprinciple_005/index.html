<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" /><title>语法分析 2 - iris</title><meta name="Description" content="GinShio | 编译原理第四章 4.4 读书笔记"><meta property="og:url" content="https://blog.ginshio.org/2022/compilerprinciple_005/">
  <meta property="og:site_name" content="iris">
  <meta property="og:title" content="语法分析 2">
  <meta property="og:description" content="GinShio | 编译原理第四章 4.4 读书笔记">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-04-12T22:23:17+08:00">
    <meta property="article:modified_time" content="2022-04-30T15:09:59+08:00">
    <meta property="article:tag" content="Note">
    <meta property="article:tag" content="DragonBook">
    <meta property="article:tag" content="SyntacticAnalysis">
    <meta property="og:image" content="https://blog.ginshio.org/avatar.webp">
      <meta property="og:see_also" content="https://blog.ginshio.org/2020/compilerprinciple_001/">
      <meta property="og:see_also" content="https://blog.ginshio.org/2020/compilerprinciple_002/">
      <meta property="og:see_also" content="https://blog.ginshio.org/2020/compilerprinciple_003/">
      <meta property="og:see_also" content="https://blog.ginshio.org/2020/compilerprinciple_004/">
      <meta property="og:see_also" content="https://blog.ginshio.org/2022/compilerprinciple_006/">
      <meta property="og:see_also" content="https://blog.ginshio.org/2022/compilerprinciple_007/">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://blog.ginshio.org/avatar.webp">
  <meta name="twitter:title" content="语法分析 2">
  <meta name="twitter:description" content="GinShio | 编译原理第四章 4.4 读书笔记">
<meta name="application-name" content="iris">
<meta name="apple-mobile-web-app-title" content="iris">

<meta name="theme-color" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest">

<link rel="canonical" href="https://blog.ginshio.org/2022/compilerprinciple_005/" /><link rel="prev" href="https://blog.ginshio.org/2022/doom_emacs_configuration/" /><link rel="next" href="https://blog.ginshio.org/2022/compilerprinciple_006/" />
<link rel="stylesheet" href="/css/main.min.css"><link rel="stylesheet" href="/css/style.min.css">
    
    
    
    <meta name="google-site-verification" content="fbzw9fQcZyEFrrrUtxLfzYW-qhZ5TMEZKHHSp9NeLBw" /><meta name="msvalidate.01" content="EC9CEC799D42793C414AE7BDB0D0205C" /><meta name="yandex-verification" content="c0b808dd3e49f730" /><meta name="baidu-site-verification" content="code-RhPhu2ccLc" /><script type="application/ld+json">{"@context": "https://schema.org","@type": "BlogPosting",
        "headline": "语法分析 2",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://blog.ginshio.org/2022/compilerprinciple_005/"
        },"image": ["https://blog.ginshio.org/screenshot.png"],"genre": "posts","keywords":["CompilerPrinciple","Note","DragonBook","SyntacticAnalysis"],"wordcount":  4489 ,
        "url": "https://blog.ginshio.org/2022/compilerprinciple_005/","datePublished": "2022-04-12T22:23:17+08:00","dateModified": "2022-04-30T15:09:59+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "GinShio","logo": "https://blog.ginshio.org/avatar.webp"},"author": [{
                        "@type": "Person",
                        "name": "GinShio",
                        "url": "https://blog.ginshio.org/authors/ginshio/"
                    }],"description": "GinShio | 编译原理第四章 4.4 读书笔记"
    }</script></head>


<body data-instant-intensity="viewport"><script type="text/javascript">
    function setTheme(theme) {
      document.body.setAttribute('theme', theme); 
      document.documentElement.className = theme;
      document.documentElement.style.setProperty('color-scheme', theme === 'light' ? 'light' : 'dark');
      if (theme === 'light') {
        document.documentElement.classList.remove('tw-dark')
      } else {
        document.documentElement.classList.add('tw-dark')
      }
      window.theme = theme;   
      window.isDark = window.theme !== 'light' 
    }
    function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
    function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
    if (window.localStorage && localStorage.getItem('theme')) {
        let theme = localStorage.getItem('theme');
        if (theme === 'light' || theme === 'dark') {
        setTheme(theme);
        } else {
            if ((window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                setTheme('dark');
            } else {
                setTheme('light');
            }
        }
      } else { 
        if ('light' === 'light' || 'light' === 'dark') 
            setTheme('light'), saveTheme('light'); 
        else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');
    }
    let metaColors = {'light': '#f8f8f8','dark': '#161b22'}
    getMeta('theme-color').content = metaColors[document.body.getAttribute('theme')];
    window.switchThemeEventSet = new Set()
</script><div id="back-to-top"></div>
    <div id="mask"></div><header class="desktop print:!tw-hidden" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="iris"><span class="tw-mr-1"><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M9.4 86.6C-3.1 74.1-3.1 53.9 9.4 41.4s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6zM256 416l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg></span>iris</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item"
                    href="/posts/" ><i class="fa fa-archive faa-wrench"></i> 归档 </a><a class="menu-item"
                    href="/tags/" ><i class="fa fa-tag faa-wrench"></i> 标签 </a><a class="menu-item"
                    href="/categories/" ><i class="fa fa-folder-open faa-wrench"></i> 分类 </a><a class="menu-item"
                    href="/series/" ><i class="fas fa-object-group"></i> 系列 </a><a class="menu-item"
                    href="/about/" ><i class="fa fa-info-circle faa-wrench"></i> 关于 </a><a class="menu-item"
                    href="/links/" ><i class="fa fa-user-friends faa-wrench"></i> 友人帐 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                    <input type="text"
                        placeholder="搜索文章标题或内容..."
                        id="search-input-desktop">
                    <button class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                        <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
                    </button>
                    <button class="search-button search-clear" id="search-clear-desktop" title="清空">
                        <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"/></svg>
                    </button>
                    <span class="search-button search-loading tw-animate-spin" id="search-loading-desktop">
                        <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"/></svg>
                    </span>
                </span><button class="menu-item theme-switch" aria-label="切换主题">
                    <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg>
                </button></div>
        </div>
    </div>
</header><header class="mobile print:!tw-hidden" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="iris"><span class="tw-mr-1"><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M9.4 86.6C-3.1 74.1-3.1 53.9 9.4 41.4s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6zM256 416l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg></span>iris</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                <div class="search mobile" id="search-mobile">
                    <input type="text"
                        placeholder="搜索文章标题或内容..."
                        id="search-input-mobile">
                    <button class="search-button search-toggle tw-h-10" id="search-toggle-mobile" title="搜索">
                        <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
                    </button>
                    <button class="search-button search-clear tw-h-fit" id="search-clear-mobile" title="清空">
                        <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"/></svg>
                    </button>
                    <span class="search-button search-loading tw-animate-spin" id="search-loading-mobile">
                        <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"/></svg>
                    </span>
                </div>
                <button class="search-cancel" id="search-cancel-mobile">
                    取消
                </button>
            </div><a class="menu-item" href="/posts/" title="" ><i class="fa fa-archive faa-wrench"></i>归档</a><a class="menu-item" href="/tags/" title="" ><i class="fa fa-tag faa-wrench"></i>标签</a><a class="menu-item" href="/categories/" title="" ><i class="fa fa-folder-open faa-wrench"></i>分类</a><a class="menu-item" href="/series/" title="" ><i class="fas fa-object-group"></i>系列</a><a class="menu-item" href="/about/" title="" ><i class="fa fa-info-circle faa-wrench"></i>关于</a><a class="menu-item" href="/links/" title="" ><i class="fa fa-user-friends faa-wrench"></i>友人帐</a><button class="menu-item theme-switch tw-w-full" aria-label="切换主题">
                <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg>
            </button></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="tw-mx-4"><div class="toc print:!tw-hidden" id="toc-auto">
        <h2 class="toc-title">目录</h2>
        <div class="toc-content" id="toc-content-auto"><nav id="TableOfContents">
  <ul>
    <li><a href="#递归下降的语法分析">递归下降的语法分析</a>
      <ul>
        <li><a href="#一个简单的示例">一个简单的示例</a></li>
        <li><a href="#first-与-follow">FIRST 与 FOLLOW</a></li>
        <li><a href="#计算-first">计算 FIRST</a></li>
        <li><a href="#计算-follow">计算 FOLLOW</a></li>
        <li><a href="#示例的-first-和-follow-计算">示例的 FIRST 和 FOLLOW 计算</a></li>
      </ul>
    </li>
    <li><a href="#ll--1--文法">LL(1) 文法</a>
      <ul>
        <li><a href="#预测分析器的转换图">预测分析器的转换图</a></li>
        <li><a href="#ll--1--文法判断">LL(1) 文法判断</a></li>
        <li><a href="#构造-ll--1--文法预测分析表">构造 LL(1) 文法预测分析表</a></li>
      </ul>
    </li>
    <li><a href="#非递归的预测分析">非递归的预测分析</a></li>
    <li><a href="#预测分析中的错误恢复">预测分析中的错误恢复</a>
      <ul>
        <li><a href="#panic-模式">panic 模式</a></li>
        <li><a href="#短语层次恢复">短语层次恢复</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div><dialog id="toc-dialog" class="tw-max-w-full tw-w-full tw-max-h-full tw-h-full tw-ml-16">
        <div class="toc tw-mx-4 tw-max-w-full">
            <h2 class="tw-mx-0 tw-my-6 tw-uppercase tw-text-2xl">目录</h2>
            <div class="toc-content"><nav id="TableOfContents">
  <ul>
    <li><a href="#递归下降的语法分析">递归下降的语法分析</a>
      <ul>
        <li><a href="#一个简单的示例">一个简单的示例</a></li>
        <li><a href="#first-与-follow">FIRST 与 FOLLOW</a></li>
        <li><a href="#计算-first">计算 FIRST</a></li>
        <li><a href="#计算-follow">计算 FOLLOW</a></li>
        <li><a href="#示例的-first-和-follow-计算">示例的 FIRST 和 FOLLOW 计算</a></li>
      </ul>
    </li>
    <li><a href="#ll--1--文法">LL(1) 文法</a>
      <ul>
        <li><a href="#预测分析器的转换图">预测分析器的转换图</a></li>
        <li><a href="#ll--1--文法判断">LL(1) 文法判断</a></li>
        <li><a href="#构造-ll--1--文法预测分析表">构造 LL(1) 文法预测分析表</a></li>
      </ul>
    </li>
    <li><a href="#非递归的预测分析">非递归的预测分析</a></li>
    <li><a href="#预测分析中的错误恢复">预测分析中的错误恢复</a>
      <ul>
        <li><a href="#panic-模式">panic 模式</a></li>
        <li><a href="#短语层次恢复">短语层次恢复</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
        </div>
    </dialog><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC", "true")</script><article class="page single print:!tw-w-full print:!tw-max-w-none print:!tw-m-0 print:!tw-p-0"><h1 class="single-title" data-pagefind-meta="date:04-12" data-pagefind-body>语法分析 2</h1><h2 class="single-subtitle">自顶向下语法分析</h2><div class="post-meta">
            <div class="post-meta-line">
                <span class="post-author"><span class='author'>
        <span class='screen-reader-text'>  </span><a href='https://blog.ginshio.org/authors/ginshio/'>GinShio</a></span>
                </span>&nbsp;<span class="post-category">收录于 </span>&nbsp;<span class="post-category">类别 <a href="/categories/compilerprinciple/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>CompilerPrinciple</a></span>&nbsp;<span class="post-category">和</span>&nbsp;<span class="post-series">系列 <a href="/series/%E9%BE%99%E4%B9%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm-6 400H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v340a6 6 0 0 1-6 6zm-42-92v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm-252 12c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36z"/></svg>龙书学习笔记</a></span></div>
            <div class="post-meta-line"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"/></svg>&nbsp;<time datetime="04-12">04-12</time>&nbsp;<svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg>&nbsp;<time datetime="04-30">04-30</time>&nbsp;<svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;约 4489 字&nbsp;
                    <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>&nbsp;预计阅读 20 分钟&nbsp;</div>
        </div><div class="details series-nav open">
                                <div class="details-summary series-title">
                                    <span>系列 - 龙书学习笔记</span>
                                    <span class="details-icon"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></span>
                                </div>
                                <div class="details-content series-content">
                                    <nav>
                                        <ul>
                                                    <li><a href="/2020/compilerprinciple_001/">编译器与程序设计语言</a></li>
                                                    <li><a href="/2020/compilerprinciple_002/">词法分析 1</a></li>
                                                    <li><a href="/2020/compilerprinciple_003/">词法分析 2</a></li>
                                                    <li><a href="/2020/compilerprinciple_004/">语法分析 1</a></li><li><span class="active">语法分析 2</span></li>
                                                    <li><a href="/2022/compilerprinciple_006/">语法分析 3</a></li>
                                                    <li><a href="/2022/compilerprinciple_007/">语法制导翻译</a></li>
                                                    <li><a href="/2022/compilerprinciple_008/">中间代码生成</a></li></ul>
                                    </nav>
                                </div>
                            </div><div class="details toc print:!tw-block" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span class="details-icon"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#递归下降的语法分析">递归下降的语法分析</a>
      <ul>
        <li><a href="#一个简单的示例">一个简单的示例</a></li>
        <li><a href="#first-与-follow">FIRST 与 FOLLOW</a></li>
        <li><a href="#计算-first">计算 FIRST</a></li>
        <li><a href="#计算-follow">计算 FOLLOW</a></li>
        <li><a href="#示例的-first-和-follow-计算">示例的 FIRST 和 FOLLOW 计算</a></li>
      </ul>
    </li>
    <li><a href="#ll--1--文法">LL(1) 文法</a>
      <ul>
        <li><a href="#预测分析器的转换图">预测分析器的转换图</a></li>
        <li><a href="#ll--1--文法判断">LL(1) 文法判断</a></li>
        <li><a href="#构造-ll--1--文法预测分析表">构造 LL(1) 文法预测分析表</a></li>
      </ul>
    </li>
    <li><a href="#非递归的预测分析">非递归的预测分析</a></li>
    <li><a href="#预测分析中的错误恢复">预测分析中的错误恢复</a>
      <ul>
        <li><a href="#panic-模式">panic 模式</a></li>
        <li><a href="#短语层次恢复">短语层次恢复</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content" data-pagefind-body><p>自顶向下语法可以被看作输入串构造语法分析树的问题，从语法分析树的根结点开始，深度优先创建这棵树的各个结点。</p>
<p>对于输入 <strong>id</strong> <code>+</code> <strong>id</strong> <code>*</code> <strong>id</strong>，可以根据最左推导序列产生语法分析树序列：
\[\begin{aligned}
E &amp;\rightarrow TE^{&rsquo;}\\
E^{&rsquo;} &amp;\rightarrow +\ T\ E^{&rsquo;}\,|\,\varepsilon\\
T &amp;\rightarrow FT^{&rsquo;}\\
T^{&rsquo;} &amp;\rightarrow *\ F\ T^{&rsquo;}\,|\,\varepsilon\\
F &amp;\rightarrow (\ E\ )\,|\,\textbf{id}\\
\end{aligned}\]</p>
<p>根据左推导有如下自顶向下分析过程</p>
<figure><img src="/images/compiler_principle-id-plus-id-multi-id-example-lm-top-down.svg">
</figure>

<h2 id="递归下降的语法分析" class="headerLink">
    <a href="#%e9%80%92%e5%bd%92%e4%b8%8b%e9%99%8d%e7%9a%84%e8%af%ad%e6%b3%95%e5%88%86%e6%9e%90" class="header-mark"></a>递归下降的语法分析</h2><p>递归下降的语法分析由一组过程组成，每个非终结符有一个对应的过程，程序的执行从开始符号对应的过程开始，如果这个过程扫描了整个输入串，就停止执行并宣布语法分析完成。</p>
<p>通用递归下降分析技术可能需要回溯，即重复扫描输入串。在 PL 构造进行语法分析时很少回溯，因此需要回溯的语法分析器并不常见。自然语言分析的场合，回溯也不高效，因此更加倾向基于表格的语法分析方法，如 DP 或 Earley 方法。</p>
<h3 id="一个简单的示例" class="headerLink">
    <a href="#%e4%b8%80%e4%b8%aa%e7%ae%80%e5%8d%95%e7%9a%84%e7%a4%ba%e4%be%8b" class="header-mark"></a>一个简单的示例</h3><p>考虑文法 \[\begin{aligned} S &amp;\rightarrow c\,A\,d\\ A &amp;\rightarrow a\,b \ |\ a\\ \end{aligned}\]
自顶向下构造串 \(w=cad\)，初始结点指向 w 的第一个字符，即标号为 S 的结点指向 c，将会得到图 <a href="#figure--fig:top-down-parsing-process-example" rel="">1</a> (a) 中的树，字符c 匹配。</p>
<p><a id="figure--fig:top-down-parsing-process-example"></a></p>
<figure><img src="/images/compiler_principle-top-down-parsing-process-example.svg"
    alt="Figure 1: 自顶向下语法分析器过程"><figcaption>
      <p><span class="figure-number">Figure 1: </span>自顶向下语法分析器过程</p>
    </figcaption>
</figure>

<p>将 <em>A</em> 用 \(\textit{A} \rightarrow ab\) 展开得到图
<a href="#figure--fig:top-down-parsing-process-example" rel="">1</a> (b) 的树，第二个字符 a 匹配，此时指针推进到第三个字符 d。由于 b 与 d 不匹配，将报告失败，并回到 A 开始尝试之前未进行的且有可能匹配的其他产生式，图 <a href="#figure--fig:top-down-parsing-process-example" rel="">1</a> (c) 所示。</p>
<p>左递归的文法会让递归下降语法分析器陷入死循环，即使有回溯也是如此。</p>
<h3 id="first-与-follow" class="headerLink">
    <a href="#first-%e4%b8%8e-follow" class="header-mark"></a>FIRST 与 FOLLOW</h3><p>自顶向下的语法分析器构造都可以采用 FIRST 和 FOLLOW 来实现。这两个函数让我们可以根据下一个输入符来选择如何应用产生式。而 painc 恢复可以由 FOLLOW 产生的词法单元合集作为同步词法单元。</p>
<p>\(\texttt{FIRST}(\alpha)\) 被定义为可以从 \(\alpha\) 推导得到的串的首符号集合。如果 \(\alpha
\xRightarrow{*}\varepsilon\)，那么 \(\varepsilon\) 也在 \(\texttt{FIRST}(\alpha)\) 中。在之前的示例中，就是 \(\textit{A} \xRightarrow{*} c\gamma\)，因此 \(c\) 在 \(\texttt{FIRST}(\alpha)\) 中，如图 <a href="#figure--fig:top-down-parsing-process-example-follow-and-first" rel="">2</a> 所示。</p>
<p><a id="figure--fig:top-down-parsing-process-example-follow-and-first"></a></p>
<figure><img src="/images/compiler_principle-top-down-parsing-process-example-follow-and-first.svg"
    alt="Figure 2: 终结符 c 在 FIRST(A) 中且 a 在 FOLLOW(A) 中"><figcaption>
      <p><span class="figure-number">Figure 2: </span>终结符 c 在 <code>FIRST</code>(<em>A</em>) 中且 a 在 <code>FOLLOW</code>(<em>A</em>) 中</p>
    </figcaption>
</figure>

<p>考虑两个 A 的产生式 \(\textit{A} \rightarrow \alpha\,|\,\beta\)，其中 \(\texttt{FIRST}(\alpha)\) 和
\(\texttt{FIRST}(\beta)\) 是不相交的集合。那么只需要查看下一个输入符号 a 就可以选择产生式。因为 a 只能出现在 \(\texttt{FIRST}(\alpha)\) 或 \(\texttt{FIRST}(\beta)\) 中，但不能同时出现在两个集合中。</p>
<p>对于非终结符 <em>A</em>，\(\texttt{FOLLOW}(\textit{A})\) 被定义为可能在某些句型中紧跟在
<em>A</em> 右边的终结符的集合。如图
<a href="#figure--fig:top-down-parsing-process-example-follow-and-first" rel="">2</a> 所示
\(\textit{S}\xRightarrow{*}\alpha\textit{A}a\beta\) 的推导，\(\alpha\) 和 \(\beta\) 是文法符号串，终结符 a 在 \(\texttt{FOLLOW}(\textit{A})\) 中。</p>
<h3 id="计算-first" class="headerLink">
    <a href="#%e8%ae%a1%e7%ae%97-first" class="header-mark"></a>计算 FIRST</h3><p>计算各个文法符号 <em>X</em> 的 \(\texttt{FRIST}(\textit{X})\) 时，不断应用以下规则，直到没有新的终结符或 \(\varepsilon\) 可以被加入。</p>
<ol>
<li>如果 <em>X</em> 是一个终结符，那么 \(\texttt{FIRST}(\textit{X})=\textit{X}\)</li>
<li>如果 <em>X</em> 是一个非终结符，且 \(\textit{X} \rightarrow
\textit{Y}_{1}\textit{Y}_{2}\cdots\textit{Y}_{k} (k \ge 1)\) 是一个产生式
<ol>
<li>如果对于某个 i，a 在\(\texttt{FIRST}(\textit{Y}_{i})\) 中且 \(\varepsilon\) 在所有的 \(\texttt{FIRST}(\textit{Y}_{1})\)、
\(\texttt{FIRST}(\textit{Y}_{2})\)、\(\cdots\)、
\(\texttt{FIRST}(\textit{Y}_{i-1})\) 中，那么就把 a 加入到
\(\texttt{FIRST}(\textit{X})\) 中，即
\(\textit{Y}_{1}\cdots\textit{Y}_{i-1}\xRightarrow{*}\varepsilon\)</li>
<li>如果对于所有的 \(j=1, 2, \cdots, k\)，\(\varepsilon\) 在
\(\texttt{FIRST}(\textit{Y}_{j})\) 中，那么将 \(\varepsilon\) 加入到
\(\texttt{FIRST}(\textit{X})\) 中。</li>
<li>如果 \(\textit{Y}_{1}\) 不能推导出 \(\varepsilon\)，那么我们就不再向
\(\texttt{FIRST}(\textit{X})\) 中加入任何符号，但如果
\(\textit{Y}_{1}\xRightarrow{*}\varepsilon\)，就加上
\(\texttt{FIRST}(\textit{Y}_{2})\)，依此类推。</li>
</ol>
</li>
<li>如果 \(\textit{X}\rightarrow\varepsilon\) 是一个产生式，那么将 \(\varepsilon\) 加入到
\(\texttt{FIRST}(\textit{X})\) 中</li>
</ol>
<p>简单地说，计算任何串 \(\textit{X}_{1}\textit{X}_{2}\cdots\textit{X}_{n}\) 的 <code>FIRST</code>
集合：向 \(\texttt{FIRST}(\textit{X}_{1}\textit{X}_{2}\cdots\textit{X}_{n})\) 加入
\(\texttt{FIRST}(\textit{X}_{1})\) 的所有非 \(\varepsilon\) 运算符，如果 \(\varepsilon\) 在
\(\texttt{FIRST}(\textit{X}_{1})\) 中，那么加入
\(\texttt{FIRST}(\textit{X}_{2})\) 的所有非 \(\varepsilon\) 运算符，如果 \(\varepsilon\) 在
\(\texttt{FIRST}(\textit{X}_{1})\) 和 \(\texttt{FIRST}(\textit{X}_{2})\) 中则加入 \(\texttt{FIRST}(\textit{X}_{3})\) 的所有非 \(\varepsilon\) 运算符，依此类推。</p>
<h3 id="计算-follow" class="headerLink">
    <a href="#%e8%ae%a1%e7%ae%97-follow" class="header-mark"></a>计算 FOLLOW</h3><p>计算各个文法符号 <em>X</em> 的 \(\texttt{FRIST}(\textit{X})\) 时，不断应用以下规则，直到没有新的终结符可以被加入。</p>
<ol>
<li>将 <code>$</code> 放到 \(\texttt{FOLLOW}(\textit{S})\) 中，其中 <em>S</em> 是开始符号，而 <code>$</code>
是输入右端的结束符号</li>
<li>如果存在一个产生式 \(\textit{A}\rightarrow\alpha\textit{B}\beta\)，那么 \(\texttt{FIRST}(\beta)\)
中除 \(\varepsilon\) 外的所有符号都在 \(\texttt{FOLLOW}(\textit{B})\) 中</li>
<li>如果存在一个产生式 \(\textit{A}\rightarrow\alpha\textit{B}\)，或存在产生式
\(\textit{A}\rightarrow\alpha\textit{B}\beta\) 且 \(\texttt{FIRST}(\beta)\) 包含 \(\varepsilon\)，那么
\(\texttt{FOLLOW}(\textit{A})\) 中的所有符号都在
\(\texttt{FOLLOW}(\textit{B})\) 中。</li>
</ol>
<h3 id="示例的-first-和-follow-计算" class="headerLink">
    <a href="#%e7%a4%ba%e4%be%8b%e7%9a%84-first-%e5%92%8c-follow-%e8%ae%a1%e7%ae%97" class="header-mark"></a>示例的 FIRST 和 FOLLOW 计算</h3><p>对于示例 <strong>id</strong> <code>+</code> <strong>id</strong> <code>*</code> <strong>id</strong>，我们可以如此计算 FIRST 与 FOLLOW。</p>
<ol>
<li>\(\texttt{FIRST}(\textit{F})\ =\ \texttt{FIRST}(\textit{T})\ =\
\texttt{FIRST}(\textit{E})\ =\ \{(,\textbf{id}\}\)。<em>F</em> 的产生式以终结符
<strong>id</strong> 和左括号开头；<em>T</em> 只有 <em>F</em> 开头的产生式，<em>F</em> 不能推出 \(\varepsilon\)，因此
\(\texttt{FIRST}(\textit{T})\) 与 \(\texttt{FIRST}(\textit{F})\) 必然相同；对 \(\texttt{FIRST}(\textit{E})\) 论据相同。</li>
<li>\(\texttt{FIRST}(\textit{E}^{&rsquo;}) = \{+, \varepsilon\}\)。\(\textit{E}^{&rsquo;}\) 的两个产生式中，一个以 \(+\) 开头，而另一个为 \(\varepsilon\)。只要有一个 \(\varepsilon\) 我们就将其加入 <code>FIRST</code> 中。</li>
<li>\(\texttt{FIRST}(\textit{T}^{&rsquo;}) = \{*, \varepsilon\}\)。论据同 2。</li>
<li>\(\texttt{FOLLOW}(\textit{E}) = \texttt{FOLLOW}(\textit{E}^{&rsquo;}) = \{), \$\}\)。因为 <em>E</em> 是开始符号，因此 \(\texttt{FOLLOW(\textit{E})}\) 一定包含 \(\$\)。产生式 <em>(E)</em> 说明了右括号为什么在 <code>FOLLOW</code> 当中。对于 \(\textit{E}^{&rsquo;}\)，非终结符只出现在了 <em>E</em> 产生式的尾部，因此 \(\texttt{FOLLOW}(\textit{E})\) 必然与
\(\texttt{FOLLOW}(\textit{E}^{&rsquo;})\) 相同。</li>
<li>\(\texttt{FOLLOW}(\textit{T}) = \texttt{FOLLOW}(\textit{T}^{&rsquo;}) = \{+, ),
\$\}\)。在所有产生式体中 <em>T</em> 只有 \(\textit{E}^{&rsquo;}\) 跟在后面，因此
\(\texttt{FIRST}(\textit{E}^{&rsquo;})\) 中除 \(\varepsilon\) 外所有符号都在
\(\texttt{FOLLOW}(\textit{T})\) 中。另外 \(\texttt{FIRST}(\textit{E}^{&rsquo;})\)
包含 \(\varepsilon\) (即 \(\textit{E}^{&rsquo;} \xRightarrow[lm]{} \varepsilon\))，且 <em>E</em> 产生体中
\(\textit{E}^{&rsquo;}\) 跟在 <em>T</em> 之后，因此 \(\texttt{FOLLOW}(\textit{E})\) 中的所有符号出现在 \(\texttt{FOLLOW}(\textit{T})\) 中。而 \(\textit{T}^{&rsquo;}\) 只出现在 <em>T</em> 产生式的末尾，因此 \(\texttt{FOLLOW}(\textit{T}) =
\texttt{FOLLOW}(\textit{T}^{&rsquo;})\)</li>
<li>\(\texttt{FOLLOW}(\textit{F}) = \{+, *, ), \$\}\)。论据同 5。</li>
</ol>
<h2 id="ll--1--文法" class="headerLink">
    <a href="#ll--1--%e6%96%87%e6%b3%95" class="header-mark"></a>LL(1) 文法</h2><p>LL(1) 文法，表示从左向右扫描输入，产生最左推导的文法，而 <code>1</code> 表示每一步只需要向前看一个输入符号来决定语法分析动作。</p>
<p>LL(1) 文法我们可以构造除预测分析器，即不需要回溯的递归下降语法。但是需要注意的是，左递归文法和二义性文法都不是 LL(1) 的。</p>
<h3 id="预测分析器的转换图" class="headerLink">
    <a href="#%e9%a2%84%e6%b5%8b%e5%88%86%e6%9e%90%e5%99%a8%e7%9a%84%e8%bd%ac%e6%8d%a2%e5%9b%be" class="header-mark"></a>预测分析器的转换图</h3><p>转换图有助于将预测分析器可视化，构造一个文法的转换图，首先要消除左递归，然后对文法提取左公因子，之后对每个非终结符 A 进行：</p>
<ol>
<li>创建一个初始状态和结束状态</li>
<li>对每个产生式 \(\textit{A} \rightarrow \textit{X}_{1}\textit{X}_{2}\cdots\textit{X}_{n}\)
创建一个从初始状态到结束状态的路经</li>
</ol>
<p>预测分析器的转换图与词法分析器的转换图是不同的：分析器对每个非终结符都有图，边的标号可以是词法单元也可以是非终结符；词法分析器表示下一个输入符号输入时应该执行的转换。</p>
<figure><img src="/images/compiler_principle-predictive-analyzer-transformation-graph-for-e-and-e-skim.svg">
</figure>

<h3 id="ll--1--文法判断" class="headerLink">
    <a href="#ll--1--%e6%96%87%e6%b3%95%e5%88%a4%e6%96%ad" class="header-mark"></a>LL(1) 文法判断</h3><p>当且仅当文法 G 的任意两个不同的表达式 \(\textit{A} \rightarrow \alpha\,|\,\beta\) 满足以下条件时，G
是 LL(1) 文法：</p>
<ol>
<li>不存在终结符 a 使得 \(\alpha\) 和 \(\beta\) 都能够推导出以 a 开头的串</li>
<li>\(\alpha\) 和 \(\beta\) 中最多只有一个可以推导出空</li>
<li>如果 \(\beta \xRightarrow{*} \varepsilon\)，那么 \(\alpha\) 不能推导出任何以
\(\texttt{FOLLOW}(\textit{A})\) 中某个终结符开头的串。反之亦然。</li>
</ol>
<p>前两个条件说明 \(\texttt{FIRST}(\alpha)\) 和 \(\texttt{FIRST}(\beta)\) 是不相交的集合。第三个条件说明，如果 \(\varepsilon\) 在 \(\texttt{FIRST}(\beta)\) 中，那么 \(\texttt{FIRST}(\alpha)\)
与 \(\texttt{FOLLOW}(\textit{A})\) 是不相交的集合。</p>
<h3 id="构造-ll--1--文法预测分析表" class="headerLink">
    <a href="#%e6%9e%84%e9%80%a0-ll--1--%e6%96%87%e6%b3%95%e9%a2%84%e6%b5%8b%e5%88%86%e6%9e%90%e8%a1%a8" class="header-mark"></a>构造 LL(1) 文法预测分析表</h3><p>预测分析表是构造 LL(1) 文法预测分析器的重要方法。也需要用到 \(\texttt{FIRST}\)
和 \(\texttt{FOLLOW}\) 函数。</p>
<div class="verse">
<p>输入：文法 G<br />
输出：预测分析表 M<br />
方法：对于文法 G 每个产生式 \(\textit{A} \rightarrow \alpha\) 有<br />
  1. 对于 \(\texttt{FIRST}(\alpha)\) 中的每个终结符 a，将 \(\textit{A} \rightarrow \alpha\) 加入到 \(\textit{M}[\textit{A}, a]\) 中<br />
  2. 如果 \(\varepsilon\) 在 \(\texttt{FIRST}(\alpha)\) 中，那么对于 \(\texttt{FOLLOW}(\textit{A})\) 中的每个终结符 b，将 \(\textit{A} \rightarrow \alpha\) 加入到 \(\textit{M}[\textit{A}, b]\) 中。如果 \(\$\) 也在 \(\texttt{FOLLOW}(\textit{A})\) 中，那也将 \(\textit{A} \rightarrow \alpha\) 加入到 \(\textit{M}[\textit{A}, \$]\) 中<br /></p>
</div>
<p>对于示例 <strong>id</strong> <code>+</code> <strong>id</strong> <code>*</code> <strong>id</strong> 可以构造出如下分析表</p>

<div class="table-wrapper">
  <table>
    <thead>
        <tr>
            <th style="text-align: ">非终结符</th>
            <th style="text-align: "><strong>id</strong></th>
            <th style="text-align: "><code>+</code></th>
            <th style="text-align: "><code>*</code></th>
            <th style="text-align: "><code>(</code></th>
            <th style="text-align: "><code>)</code></th>
            <th style="text-align: "><code>$</code></th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: "><em>E</em></td>
            <td style="text-align: ">\(\textit{E} \rightarrow \textit{TE}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{E} \rightarrow \textit{TE}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textit{E}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{E}^{&rsquo;} \rightarrow + \textit{TE}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{E}^{&rsquo;} \rightarrow \varepsilon\)</td>
            <td style="text-align: ">\(\textit{E}^{&rsquo;} \rightarrow \varepsilon\)</td>
        </tr>
        <tr>
            <td style="text-align: "><em>T</em></td>
            <td style="text-align: ">\(\textit{T} \rightarrow \textit{FT}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{T} \rightarrow \textit{FT}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textit{T}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;} \rightarrow \varepsilon\)</td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;} \rightarrow * \textit{FT}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;} \rightarrow \varepsilon\)</td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;} \rightarrow \varepsilon\)</td>
        </tr>
        <tr>
            <td style="text-align: "><em>F</em></td>
            <td style="text-align: ">\(\textit{F} \rightarrow \textbf{id}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{F} \rightarrow (\textit{E})\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
        </tr>
    </tbody>
  </table>
</div>
<p>如果一个文法是左递归或有二义性的，那么 M 中至少会包含一个多重定义的条目。比如悬空-else 文法
\[\begin{aligned}
\textit{S} &amp;\rightarrow i\textit{E}t\textit{SS}^{&rsquo;}\ |\ a\\
\textit{S}^{&rsquo;} &amp;\rightarrow e\textit{S}\ |\ \varepsilon\\
\textit{E} &amp;\rightarrow b\\
\end{aligned}\]</p>
<p>它的分析表如下</p>

<div class="table-wrapper">
  <table>
    <thead>
        <tr>
            <th style="text-align: ">非终结符</th>
            <th style="text-align: ">a</th>
            <th style="text-align: ">b</th>
            <th style="text-align: ">e</th>
            <th style="text-align: ">i</th>
            <th style="text-align: ">t</th>
            <th style="text-align: ">\(\$\)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: "><em>S</em></td>
            <td style="text-align: ">\(\textit{S} \rightarrow a\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{S} \rightarrow i\textit{E}t\textit{SS}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textit{S}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{S}^{&rsquo;} \rightarrow \varepsilon\), \(\textit{S}^{&rsquo;} \rightarrow e\textit{S}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{S}^{&rsquo;} \rightarrow \varepsilon\)</td>
        </tr>
        <tr>
            <td style="text-align: "><em>E</em></td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{E} \rightarrow b\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
        </tr>
    </tbody>
  </table>
</div>
<p>可以看到 \(\textit{M}[\textit{S}^{&rsquo;}, e]\) 不止一个条目，LL(1) 文法预测分析表会披露出文法中存在的二义性。</p>
<h2 id="非递归的预测分析" class="headerLink">
    <a href="#%e9%9d%9e%e9%80%92%e5%bd%92%e7%9a%84%e9%a2%84%e6%b5%8b%e5%88%86%e6%9e%90" class="header-mark"></a>非递归的预测分析</h2><p>构造递归的预测分析是隐式使用栈，可以采用迭代的方式显示使用栈，如果 w 是已匹配完成的输入部分，那么栈中保存的文法符号序列 \(\alpha\) 满足
\[S \xRightarrow[lm]{*}w\alpha.\]</p>
<p>由分析表驱动的语法分析器有一个输入缓冲区，一个包含了文法符号序列的栈，一个预测分析表，以及一个输出流。</p>
<figure><img src="/images/compiler_principle-analysis-table-driven-predictive-analyzer-model.svg">
</figure>

<p>它的输入缓冲区中包含要进行语法分析的串，串后面跟着结束标记\(\$\)。我们复用符号
\(\$\)来标记栈底，在开始时刻栈中\(\$\)的上方的开始符号S。</p>
<p>预测分析程序考虑栈顶符号 <em>X</em> 和当前输入符号 a，如果 <em>X</em> 是非终结符，查询分析表
\(\textit{M}[\textit{X}, a]\) 来选择一个 <em>X</em> 的产生式；否则检查终结符 <em>X</em> 和当前输入符 a 是否匹配。语法分析器的行为可以用配置 (configuration) 来描述，
configuration 描述了栈中的内容和余下的输入。</p>
<div class="verse">
<p>输入：一个串 w，文法 G 的预测分析表 <em>M</em><br />
输出：如果 w 在 \(\textit{L}(\textit{G})\) 中，输出 w 的最左推导，否则输出错误提示<br />
方法：最初输入缓冲区中是 \(w\$\)，而 G 开始符号 <em>S</em> 位于栈顶，它下面是 \(\$\)。<br /></p>
</div>
<p>算法如下：
#+begin_verse
设置 ip (输入指针) 使其指向 w 的第一个符号;
令 <em>X</em> 为栈顶符号;
<strong>while</strong> (\(\textit{X} \ne \$\)) {
<strong>if</strong> (<em>X</em> == ip 指向的符号 a) {
执行出栈操作;
将 ip 向前移动一个位置;
} <strong>else if</strong> (<em>X</em> 是一个终结符 <strong>or</strong> \(\textit{M}[\textit{X}, a]\) 是一个报错条目) {
error();
} <strong>else if</strong> (\(\textit{M}[\textit{X}, a] = \textit{X} \rightarrow Y_{1}Y_{2}\cdots Y_{k}\)) {
输出产生式 \(\textit{X} \rightarrow Y_{1}Y_{2}\cdots Y_{k}\);
执行出栈操作;
将 \(Y_{1}Y_{2}\cdots Y_{k}\) 入栈，其中 \(Y_{1}\) 位于栈顶;
}
令 <em>X</em> 为栈顶符号;
}
#+end_vers</p>
<p>在之前已经有了示例 <strong>id</strong> <code>+</code> <strong>id</strong> <code>*</code> <strong>id</strong> 的预测分析表了，现在展示以下其执行步骤</p>

<div class="table-wrapper">
  <table>
    <thead>
        <tr>
            <th style="text-align: ">已匹配</th>
            <th style="text-align: ">栈</th>
            <th style="text-align: ">输入</th>
            <th style="text-align: ">操作</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{E}\$\)</td>
            <td style="text-align: ">\(\textbf{id}+\textbf{id}*\textbf{id}\$\)</td>
            <td style="text-align: "></td>
        </tr>
        <tr>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{TE}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}+\textbf{id}*\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{E}\rightarrow\textit{TE}^{&rsquo;}\)</td>
        </tr>
        <tr>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{FT}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}+\textbf{id}*\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{T}\rightarrow\textit{FT}^{&rsquo;}\)</td>
        </tr>
        <tr>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textbf{id}\textit{T}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}+\textbf{id}*\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{F}\rightarrow\textbf{id}\)</td>
        </tr>
        <tr>
            <td style="text-align: "><strong>id</strong></td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(+\textbf{id}*\textbf{id}\$\)</td>
            <td style="text-align: ">匹配 <strong>id</strong></td>
        </tr>
        <tr>
            <td style="text-align: "><strong>id</strong></td>
            <td style="text-align: ">\(\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(+\textbf{id}*\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{T}^{&rsquo;}\rightarrow\varepsilon\)</td>
        </tr>
        <tr>
            <td style="text-align: "><strong>id</strong></td>
            <td style="text-align: ">\(+\textit{TE}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(+\textbf{id}*\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{E}^{&rsquo;}\rightarrow+\textit{TE}^{&rsquo;}\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}+\)</td>
            <td style="text-align: ">\(\textit{TE}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}*\textbf{id}\$\)</td>
            <td style="text-align: ">匹配 \(+\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}+\)</td>
            <td style="text-align: ">\(\textit{FT}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}*\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{T}\rightarrow\textit{FT}^{&rsquo;}\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}+\)</td>
            <td style="text-align: ">\(\textbf{id}\textit{T}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}*\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{F}\rightarrow\textbf{id}\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}+\textbf{id}\)</td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(*\textbf{id}\$\)</td>
            <td style="text-align: ">匹配 <strong>id</strong></td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}+\textbf{id}\)</td>
            <td style="text-align: ">\(*\textit{FT}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(*\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{T}^{&rsquo;}\rightarrow*\textit{FT}^{&rsquo;}\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}+\textbf{id}*\)</td>
            <td style="text-align: ">\(\textit{FT}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}\$\)</td>
            <td style="text-align: ">匹配 \(*\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}+\textbf{id}*\)</td>
            <td style="text-align: ">\(\textbf{id}\textit{T}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{F}\rightarrow\textbf{id}\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}+\textbf{id}*\textbf{id}\)</td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\$\)</td>
            <td style="text-align: ">匹配 <strong>id</strong></td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}+\textbf{id}*\textbf{id}\)</td>
            <td style="text-align: ">\(\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\$\)</td>
            <td style="text-align: ">输出 \(\textit{T}^{&rsquo;}\rightarrow\varepsilon\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}+\textbf{id}*\textbf{id}\)</td>
            <td style="text-align: ">\(\$\)</td>
            <td style="text-align: ">\(\$\)</td>
            <td style="text-align: ">输出 \(\textit{E}^{&rsquo;}\rightarrow\varepsilon\)</td>
        </tr>
    </tbody>
  </table>
</div>
<h2 id="预测分析中的错误恢复" class="headerLink">
    <a href="#%e9%a2%84%e6%b5%8b%e5%88%86%e6%9e%90%e4%b8%ad%e7%9a%84%e9%94%99%e8%af%af%e6%81%a2%e5%a4%8d" class="header-mark"></a>预测分析中的错误恢复</h2><p>当栈顶的终结符和下一个输入不匹配时，或当前非终结符 <em>A</em> 处于栈顶但
\(\textit{M}[\textit{A}, a]\) 为 <strong>error</strong> 时，预测分析器就会检测到语法错误。</p>
<h3 id="panic-模式" class="headerLink">
    <a href="#panic-%e6%a8%a1%e5%bc%8f" class="header-mark"></a>panic 模式</h3><p>panic 模式的错误恢复是基于以下思想：语法分析器忽略输入中的一些符号，直到输入中出现同步词法单元。这依赖于同步集合的选取。选取原则是使得语法分析器能够从实践中可能遇到的错误中快速恢复。有一些启发式的规则：</p>
<ol>
<li>将 \(\texttt{FOLLOW}(\textit{A})\) 中的所有符号都放在非终结符 <em>A</em> 的同步集合中。如果不断忽略一些词法单元，直到碰到了 \(\texttt{FOLLOW}(\textit{A})\)
中的某个元素，再将 <em>A</em> 从栈中弹出，可能语法分析器就能继续进行了。</li>
<li>只用 \(\texttt{FOLLOW}(\textit{A})\) 是不够的。如 C 语言采用分号结尾，而遗漏分号可能导致语法分析器忽略下一个语句开头的关键字。我们可以将较高层次的开始符加入到较低层次的同步集合中。</li>
<li>如果将 \(\texttt{FIRST}(\textit{A})\) 加入到非终结符 <em>A</em> 的同步集合，那么当其中符号出现在输入中，可能可以根据 <em>A</em> 继续进行语法分析</li>
<li>如果一个非终结符可以产生空串，那么可以将空串作为默认值使用。这么做可能会推迟错误检测，但不会遗漏。并且减少需要考虑的非终结符数量。</li>
<li>如果栈顶的一个终结符不能和输入匹配，最简单的方法是将其弹出栈，发出消息称已经插入这个终结符，并继续语法分析。这个方法是将其他词法单元的合集作为同步集合。</li>
</ol>
<p>因此我们可以将 <code>FOLLOW</code> 作为同步词法单元，重绘预测分析表，示例 <strong>id</strong> <code>+</code> <strong>id</strong> <code>*</code>
<strong>id</strong> 的预测分析表如下</p>

<div class="table-wrapper">
  <table>
    <thead>
        <tr>
            <th style="text-align: ">非终结符</th>
            <th style="text-align: "><strong>id</strong></th>
            <th style="text-align: "><code>+</code></th>
            <th style="text-align: "><code>*</code></th>
            <th style="text-align: "><code>(</code></th>
            <th style="text-align: "><code>)</code></th>
            <th style="text-align: "><code>$</code></th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: "><em>E</em></td>
            <td style="text-align: ">\(\textit{E} \rightarrow \textit{TE}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{E} \rightarrow \textit{TE}^{&rsquo;}\)</td>
            <td style="text-align: ">synch</td>
            <td style="text-align: ">synch</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textit{E}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{E}^{&rsquo;} \rightarrow + \textit{TE}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{E}^{&rsquo;} \rightarrow \varepsilon\)</td>
            <td style="text-align: ">\(\textit{E}^{&rsquo;} \rightarrow \varepsilon\)</td>
        </tr>
        <tr>
            <td style="text-align: "><em>T</em></td>
            <td style="text-align: ">\(\textit{T} \rightarrow \textit{FT}^{&rsquo;}\)</td>
            <td style="text-align: ">synch</td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{T} \rightarrow \textit{FT}^{&rsquo;}\)</td>
            <td style="text-align: ">synch</td>
            <td style="text-align: ">synch</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textit{T}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;} \rightarrow \varepsilon\)</td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;} \rightarrow * \textit{FT}^{&rsquo;}\)</td>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;} \rightarrow \varepsilon\)</td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;} \rightarrow \varepsilon\)</td>
        </tr>
        <tr>
            <td style="text-align: "><em>F</em></td>
            <td style="text-align: ">\(\textit{F} \rightarrow \textbf{id}\)</td>
            <td style="text-align: ">synch</td>
            <td style="text-align: ">synch</td>
            <td style="text-align: ">\(\textit{F} \rightarrow (\textit{E})\)</td>
            <td style="text-align: ">synch</td>
            <td style="text-align: ">synch</td>
        </tr>
    </tbody>
  </table>
</div>
<p>如果输入串是 \(+\textbf{id}*+\textbf{id}\) 这样的错误输入，可以得到如此语法分析过程</p>

<div class="table-wrapper">
  <table>
    <thead>
        <tr>
            <th style="text-align: ">已匹配</th>
            <th style="text-align: ">栈</th>
            <th style="text-align: ">输入</th>
            <th style="text-align: ">说明</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{E}\$\)</td>
            <td style="text-align: ">\(+\textbf{id}*+\textbf{id}\$\)</td>
            <td style="text-align: "></td>
        </tr>
        <tr>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{E}\$\)</td>
            <td style="text-align: ">\(\textbf{id}*+\textbf{id}\$\)</td>
            <td style="text-align: ">错误，\(+\)略过</td>
        </tr>
        <tr>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{TE}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}*+\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{E}\rightarrow\textit{TE}^{&rsquo;}\)</td>
        </tr>
        <tr>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textit{FT}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}*+\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{T}\rightarrow\textit{FT}^{&rsquo;}\)</td>
        </tr>
        <tr>
            <td style="text-align: "></td>
            <td style="text-align: ">\(\textbf{id}\textit{T}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}*+\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{F}\rightarrow\textbf{id}\)</td>
        </tr>
        <tr>
            <td style="text-align: "><strong>id</strong></td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(*+\textbf{id}\$\)</td>
            <td style="text-align: ">匹配 <strong>id</strong></td>
        </tr>
        <tr>
            <td style="text-align: "><strong>id</strong></td>
            <td style="text-align: ">\(*\textit{FT}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(*+\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{T}^{&rsquo;}\rightarrow*\textit{FT}^{&rsquo;}\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}*\)</td>
            <td style="text-align: ">\(\textit{FT}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(+\textbf{id}\$\)</td>
            <td style="text-align: ">匹配 *</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}*\)</td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(+\textbf{id}\$\)</td>
            <td style="text-align: ">\(\textit{M}[\textit{F},+]\), 弹出 <em>F</em></td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}*\)</td>
            <td style="text-align: ">\(\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(+\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{T}^{&rsquo;}\rightarrow\varepsilon\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}*\)</td>
            <td style="text-align: ">\(+\textit{TE}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(+\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{E}^{&rsquo;}\rightarrow+\textit{TE}^{&rsquo;}\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}*+\)</td>
            <td style="text-align: ">\(\textit{TE}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}\$\)</td>
            <td style="text-align: ">匹配 \(+\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}*+\)</td>
            <td style="text-align: ">\(\textit{FT}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{T}\rightarrow\textit{FT}^{&rsquo;}\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}*+\)</td>
            <td style="text-align: ">\(\textbf{id}\textit{T}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\textbf{id}\$\)</td>
            <td style="text-align: ">输出 \(\textit{F}\rightarrow\textbf{id}\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}*+\textbf{id}\)</td>
            <td style="text-align: ">\(\textit{T}^{&rsquo;}\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\$\)</td>
            <td style="text-align: ">匹配 <strong>id</strong></td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}*+\textbf{id}\)</td>
            <td style="text-align: ">\(\textit{E}^{&rsquo;}\$\)</td>
            <td style="text-align: ">\(\$\)</td>
            <td style="text-align: ">输出 \(\textit{T}^{&rsquo;}\rightarrow\varepsilon\)</td>
        </tr>
        <tr>
            <td style="text-align: ">\(\textbf{id}*+\textbf{id}\)</td>
            <td style="text-align: ">\(\$\)</td>
            <td style="text-align: ">\(\$\)</td>
            <td style="text-align: ">输出 \(\textit{E}^{&rsquo;}\rightarrow\varepsilon\)</td>
        </tr>
    </tbody>
  </table>
</div>
<h3 id="短语层次恢复" class="headerLink">
    <a href="#%e7%9f%ad%e8%af%ad%e5%b1%82%e6%ac%a1%e6%81%a2%e5%a4%8d" class="header-mark"></a>短语层次恢复</h3><p>在预测分析表的空白条目中填入过程指针，即可用过程改变、插入或删除输入的符号，并发出适当的错误消息，或执行一些栈操作 (改变栈符号或压入新符号)。</p>
</div>

        <div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 04-30</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line print:!tw-hidden">
            <div class="post-info-md"><span><a class="link-to-mardown" href=/2022/compilerprinciple_005/index.md target="_blank" rel="noopener noreferrer">阅读原始文档</a>
                    </span><span>|&nbsp;<a class="link-to-report" href=https://gitlab.com/GinShio/ginshio.gitlab.io/issues/new?issue[title]=[BUG]%20%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90+2&issue[description]=[POST](https://blog.ginshio.org/2022/compilerprinciple_005/)%0A%0A##%20Isseus%0A target="_blank" rel="noopener noreferrer">报告问题</a>
                    </span></div>
            <div class="post-info-share"><button title="分享到 Twitter" data-sharer="twitter" data-url="https://blog.ginshio.org/2022/compilerprinciple_005/" data-title="语法分析 2" data-hashtags="Note,DragonBook,SyntacticAnalysis"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></button><button title="分享到 Facebook" data-sharer="facebook" data-url="https://blog.ginshio.org/2022/compilerprinciple_005/" data-hashtag="Note"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg></button><button title="分享到 Linkedin" data-sharer="linkedin" data-url="https://blog.ginshio.org/2022/compilerprinciple_005/"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg></button><button title="分享到 WhatsApp" data-sharer="whatsapp" data-url="https://blog.ginshio.org/2022/compilerprinciple_005/" data-title="语法分析 2" data-web><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg></button><button title="分享到 Hacker News" data-sharer="hackernews" data-url="https://blog.ginshio.org/2022/compilerprinciple_005/" data-title="语法分析 2"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M0 32v448h448V32H0zm21.2 197.2H21c.1-.1.2-.3.3-.4 0 .1 0 .3-.1.4zm218 53.9V384h-31.4V281.3L128 128h37.3c52.5 98.3 49.2 101.2 59.3 125.6 12.3-27 5.8-24.4 60.6-125.6H320l-80.8 155.1z"/></svg></button><button title="分享到 Line" data-sharer="line" data-url="https://blog.ginshio.org/2022/compilerprinciple_005/" data-title="语法分析 2"><svg class="icon" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LINE</title><path d="M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.346 0 .627.285.627.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"/></svg></button><button title="分享到 Telegram" data-sharer="telegram" data-url="https://blog.ginshio.org/2022/compilerprinciple_005/" data-title="语法分析 2" data-web><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"/></svg></button><button class="weixin" title="分享到 微信" data-sharer="weixin" data-url="https://blog.ginshio.org/2022/compilerprinciple_005/" data-title="语法分析 2" data-web><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"/></svg><img src="https://api.oick.cn/qrcode/api.php?size=256&amp;text=https://blog.ginshio.org/2022/compilerprinciple_005/" title="语法分析 2">
    </button><script>
        function shareOnMastodon(title, link) {
            const SHARE_MASTODON_DOMAIN = "share_mastodon_domain"
            const savedDomain = localStorage.getItem(SHARE_MASTODON_DOMAIN) ?? "mastodon.social";
            const domain = prompt("Enter your Mastodon domain", savedDomain);
            if (domain === null) {
                return;
            }
            localStorage.setItem(SHARE_MASTODON_DOMAIN, domain)
            const text = title + "\n\n" + link;
            const url = new URL("https://" + domain)
            url.pathname = "share"
            url.searchParams.append('text', text)
            window.open(url, '_blank', "width=500,height=500,left=500,toolbar=0,status=0");
        }
    </script>
    <button title="分享到 Mastodon"onclick="javascript:shareOnMastodon(&#34;语法分析 2&#34;, &#34;https://blog.ginshio.org/2022/compilerprinciple_005/&#34;)"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg></button></div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"/></svg>&nbsp;<a href="/tags/note/">Note</a>,&nbsp;<a href="/tags/dragonbook/">DragonBook</a>,&nbsp;<a href="/tags/syntacticanalysis/">SyntacticAnalysis</a></section>
        <section class="print:!tw-hidden">
            <span><button class="tw-text-fgColor-link-muted hover:tw-text-fgColor-link-muted-hover" onclick="window.history.back();">返回</button></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav print:tw-hidden"><a href="/2022/doom_emacs_configuration/" class="prev" rel="prev" title="Doom Emacs 配置文件"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"/></svg>Doom Emacs 配置文件</a>
            <a href="/2022/compilerprinciple_006/" class="next" rel="next" title="语法分析 3">语法分析 3<svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></a></div>
</div>
<div id="comments" class="print:!tw-hidden tw-pt-32 tw-pb-8"><div id="gitalk" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://github.com/gitalk/gitalk"></a>Gitalk</a>.
            </noscript></div></article></main><footer class="footer">
        <div class="footer-container"><div class="footer-line">
                    由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer" title="Hugo 0.142.0">Hugo</a> 强力驱动&nbsp;|&nbsp;主题 - <a href="https://github.com/HEIGE-PCloud/DoIt" target="_blank" rel="noopener noreferrer" title="DoIt 0.4.0"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg> DoIt</a>
                </div><div class="footer-line"><svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 448c-110.532 0-200-89.451-200-200 0-110.531 89.451-200 200-200 110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200zm107.351-101.064c-9.614 9.712-45.53 41.396-104.065 41.396-82.43 0-140.484-61.425-140.484-141.567 0-79.152 60.275-139.401 139.762-139.401 55.531 0 88.738 26.62 97.593 34.779a11.965 11.965 0 0 1 1.936 15.322l-18.155 28.113c-3.841 5.95-11.966 7.282-17.499 2.921-8.595-6.776-31.814-22.538-61.708-22.538-48.303 0-77.916 35.33-77.916 80.082 0 41.589 26.888 83.692 78.277 83.692 32.657 0 56.843-19.039 65.726-27.225 5.27-4.857 13.596-4.039 17.82 1.738l19.865 27.17a11.947 11.947 0 0 1-1.152 15.518z"/></svg>2020 - 2025<span class="author">&nbsp;<a href="https://blog.ginshio.org/" target="_blank" rel="noopener noreferrer">GinShio</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
            <div class="footer-line"></div>
            <div class="footer-line">
            </div>
        </div><script>
                    if('serviceWorker' in navigator) {
                        navigator.serviceWorker
                            .register('/sw.min.js', { scope: '/' })
                            .then(function(registration) {
                            });
                
                        navigator.serviceWorker
                            .ready
                            .then(function(registration) {
                            });
                    }
                </script></footer><div class="print:!tw-hidden tw-flex tw-flex-col tw-fixed tw-right-4 tw-bottom-4 tw-gap-2"><a href="#back-to-top" id="back-to-top-button" class="tw-transition-opacity tw-opacity-0 tw-block tw-bg-bgColor-secondary tw-rounded-full" style="padding: 0.6rem; line-height: 1.3rem; font-size: 1rem;" title="回到顶部">
      <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg>
  </a>

  <button id="toc-drawer-button" class="tw-block tw-bg-bgColor-secondary tw-rounded-full md:tw-hidden" style="padding: 0.6rem; line-height: 1.3rem; font-size: 1rem;">
      <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg>
  </button><a href="#comments" id="view-comments" class="tw-block tw-bg-bgColor-secondary tw-rounded-full" style="padding: 0.6rem; line-height: 1.3rem; font-size: 1rem;" title="查看评论">
      <svg class="icon"
    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path d="M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"/></svg>
  </a></div>
<link rel="stylesheet" href="/lib/gitalk/gitalk.min.b82a526943533d0dde3eceea68e6d3879e8f766339a17d2c57bbde5421167ddeafa4734202e9950c16842cc6d27753b4.css" integrity="sha384-uCpSaUNTPQ3ePs7qaObTh56PdmM5oX0sV7veVCEWfd6vpHNCAumVDBaELMbSd1O0"><link rel="stylesheet" href="/lib/katex/katex.min.ce1d0222c963f95733099b65cc1723b79a6945cb009839d17a6ec44ac6305b08379bf39a276978c7b601665f4ac7189b.css" integrity="sha384-zh0CIslj&#43;VczCZtlzBcjt5ppRcsAmDnRem7ESsYwWwg3m/OaJ2l4x7YBZl9Kxxib"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/katex/copy-tex.min.1f5388069d157848068f2228e33a72016ef3233cfb0afc2940343e446a708357e5b391b470f94c0e1c80745c331651ca.css" integrity="sha384-H1OIBp0VeEgGjyIo4zpyAW7zIzz7CvwpQDQ&#43;RGpwg1fls5G0cPlMDhyAdFwzFlHK">
        <noscript><link rel="stylesheet" href="/lib/katex/copy-tex.min.1f5388069d157848068f2228e33a72016ef3233cfb0afc2940343e446a708357e5b391b470f94c0e1c80745c331651ca.css" integrity="sha384-H1OIBp0VeEgGjyIo4zpyAW7zIzz7CvwpQDQ&#43;RGpwg1fls5G0cPlMDhyAdFwzFlHK"></noscript>
<script>window.config={"algoliasearch.min.js":"/lib/algoliasearch/algoliasearch-lite.umd.min.js","autocomplete.min.js":"/lib/autocomplete/autocomplete.min.js","comment":{"gitalk":{"admin":["GinShio"],"clientID":"96cbbb15f26bebd9141b","clientSecret":"29c7df99d6e1806113996333163a9476027ff1fa","id":"2022-04-12T22:23:17+08:00","owner":"GinShio","repo":"ginshio.github.io","title":"语法分析 2"}},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"algoliaAppID":"ABF13CGNA0","algoliaIndex":"ginshio_blog","algoliaSearchKey":"51cf3425aba132c091b477c3d5e06eea","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"},"sharerjs":true,"table":{"sort":true}};</script><script
    src="/lib/tablesort/tablesort.min.d120034e53740430f5243f8e25b646e7bdcca97780e02962c37e3adefb264c1b457f8fc397698851f42e32d7168bdd1e.js"
    
      integrity="sha384-0SADTlN0BDD1JD&#43;OJbZG573MqXeA4Cliw3463vsmTBtFf4/Dl2mIUfQuMtcWi90e"
    
  ></script><script
    src="/lib/sharer/sharer.min.0097b33812ac4873e9a2e0813de400c9ea9b07e223998d3cbc38a89bdfa3f45cc344689061a836fcd6f4c120eed429b4.js"
    
      integrity="sha384-AJezOBKsSHPpouCBPeQAyeqbB&#43;IjmY08vDiom9&#43;j9FzDRGiQYag2/Nb0wSDu1Cm0"
    
  ></script><script
    src="/lib/katex/katex.min.4666ba0c0d883d4c213719ab07fed2dd39e8d1863bb05bbd59260c0aeba52e122a612199da028225622a8415aa3107e1.js"
    
      integrity="sha384-Rma6DA2IPUwhNxmrB/7S3Tno0YY7sFu9WSYMCuulLhIqYSGZ2gKCJWIqhBWqMQfh"
    
      defer
    
  ></script><script
    src="/lib/katex/auto-render.min.8425c6ad6e8f8ad244c1b9284ad163789c6ff9f48e39028e3db27149f33a1b9b166630325a15e24c8200990aa794b961.js"
    
      integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv&#43;fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh"
    
      defer
    
  ></script><script
    src="/lib/katex/copy-tex.min.1ce471ea75a2f23e7f99803ecb9efff7f099739cfc1e7130e165195b2e723a7f53a0a06fd65e7cbc96ae7c5027f59ce2.js"
    
      integrity="sha384-HORx6nWi8j5/mYA&#43;y57/9/CZc5z8HnEw4WUZWy5yOn9ToKBv1l58vJaufFAn9Zzi"
    
      defer
    
  ></script><script
    src="/lib/katex/mhchem.min.176a6d40566a349baa7c61a5dbc9885f24399171f8f2ca67eeb7284b463da6ca882807193cb775373c05966fdb975987.js"
    
      integrity="sha384-F2ptQFZqNJuqfGGl28mIXyQ5kXH48spn7rcoS0Y9psqIKAcZPLd1NzwFlm/bl1mH"
    
      defer
    
  ></script><script
    src="/js/katex.min.js"
    
      defer
    
  ></script><script
    src="/js/theme.min.js"
    
      defer
    
  ></script><script
    src="/lib/gitalk/gitalk.min.1420a0c0459673bc6824e7ba713f1e0ec1540e86491daf1b6149a7af9cd3f396c86b9182d03e4c727faefae17b746033.js"
    
      integrity="sha384-FCCgwEWWc7xoJOe6cT8eDsFUDoZJHa8bYUmnr5zT85bIa5GC0D5Mcn&#43;u&#43;uF7dGAz"
    
  ></script><script
    src="/js/gitalk.min.js"
    
      defer
    
  ></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'G-J5NHMZLLDX', { 'anonymize_ip': true });
        </script><script
    src="https://www.googletagmanager.com/gtag/js?id=G-J5NHMZLLDX"
    async
  ></script><script>
			var _hmt = _hmt || [];
			(function() {
			  var hm = document.createElement("script");
			  hm.src = "https://hm.baidu.com/hm.js?9370523af547bac6b97e9c3b1461cd16";
			  var s = document.getElementsByTagName("script")[0]; 
			  s.parentNode.insertBefore(hm, s);
			})();
		</script>

<script type="speculationrules">
  {
    "prerender": [
      {
        "where": { "href_matches": "/*" },
        "eagerness": "moderate"
      }
    ]
  }
</script>
</body>

</html>
